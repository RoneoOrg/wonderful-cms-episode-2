backend:

  name: git-gateway
  # branch: master
  repo: github.com/iaeiou/wonderful-cms-on-netlify
  # Multi author edition
  # Ref: - https://www.netlifycms.org/docs/configuration-options/#publish-mode
  #      - https://preview-auth-doc--netlify-cms-www.netlify.app/docs/authentication-backends/
  accept_roles: #optional - accepts all users if left out
      - admin
      - editor
      - author
  commit_messages:
    create: posts - Create {{collection}} “{{slug}}”
    update: posts - Update {{collection}} “{{slug}}”
    delete: posts - Delete {{collection}} “{{slug}}”
    uploadMedia: media - Upload “{{path}}”
    deleteMedia: media - Delete “{{path}}”
    openAuthoring: '{{message}}'
    
# Doc: https://www.netlifycms.org/docs/beta-features/

publish_mode: editorial_workflow
# squash_merges: true # See https://www.netlifycms.org/docs/beta-features/#squash-merge-github-pull-requests

media_folder: "static/images"
public_folder: "/images"
# To limit file size, see https://www.netlifycms.org/docs/beta-features/#image-widget-file-size-limit

locale: 'fr'


localbackend: true

collections:
  - name: "posts"
    editor:
      preview: false
    author:
      publish: false
    label: "Articles"
    folder: "content/posts"
    create: true
    slug: "{{slug}}"
    encoding: "ascii"
    clean_accents: true
    sanitize_replacement: "-"
    fields:
      - {label: "Draft", name: draft, widget: "hidden", default: false}
      - {label: "Layout", name: "layout", widget: "hidden", default: "post"}
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Publish Date", name: "date", widget: "datetime"}
      - {label: "Tags", name: "tags", widget: "list"}
      - {label: "Body", name: "body", widget: "markdown"}
